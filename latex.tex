%%% !Mode\dots "XeLaTeX:UTF-8"
%%% Copyright (c) 2015
%%% Gmail:liuzheng712

\documentclass[a4paper,12pt]{book}
\XeTeXlinebreaklocale ``zh''
\XeTeXlinebreakskip = 0pt plus 1pt minus 0.1pt
\let\cleardoublepage\relax % 清除空白页,自己决定
\usepackage{hyperref}
\usepackage{color}              % 彩色
\usepackage{xcolor}             % 彩色
\usepackage{listings}           % 代码风格
\usepackage{fancyhdr}           % 页眉页脚
\usepackage[boldfont]{xeCJK}				% CJK字体宏包
\setmainfont{WenQuanYi Micro Hei}	% 设定默认字体为times
\usepackage{geometry}           % 页面设置
\geometry{left=2.5cm,right=2.5cm,bottom=2.5cm,top=3cm}
\begin{document}
\pagenumbering{arabic}          % 页码数字
\setcounter{page}{1}            % 页码起始数字
\newcommand{\zihao}{\fontsize{9pt}{8pt}\selectfont}
\definecolor{dkgreen}{rgb}{0,0.6,0}
%\newfontfamily\wqyMHei{WenQuanYi Micro Hei}
\newfontfamily\wqyMHei{MonacowqyMHei}
%%%%%%%%%%%%%%%%%%%%%%%% Code %%%%%%%%%%%%%%%%%%%%%%%%%
\lstset{
  keywordstyle=\color{blue},  % 关键词为蓝色
  commentstyle=\color{dkgreen},       % 注释为绿色
  stringstyle=\color{red},    % 字符串为红色
  basicstyle=\zihao\wqyMHei, % 基本字体的字号
  breaklines=true,            % 自动将长代码行换行排版
  breakatwhitespace=true,     % 断行只在空格处
  extendedchars=false,        % 解决代码跨页时，章节标题页眉等汉字不显示问题
  showspaces=false,           % 不显示空格
  showstringspaces=true,      % 字符串中显示空格
  showtabs=false,             % 不显示TAB键
  tabsize=4,                  % TAB被当成4个空格
  frame=l,                    % 显示边框
  numbers=left,               % 显示行号
  numberstyle=\tiny,          % 行号字体为tiny
  numbersep=9pt,              % 行号垂直位置
  numberstyle=\zihao,  % 行号字体的字号
  stepnumber=1,               % 行号显示的步长
  keywordstyle=\color{blue}\bfseries, % 特殊代码高亮蓝色加粗
  backgroundcolor=\color{white},      % 背景色 需要 \usepackage{color}
%  escapeinside={/*@}{@*/}     % 添加注释，暂时离开
}
%\newcommand\mybooktitle{Sqlite3.8.8 Source Code}
%\newcommand\BookTitle{Sqlite3.8.8 Source Code}
\pagestyle{fancy}
\fancyhf{}
\fancyhead[RE]{\normalfont\small\rmfamily\nouppercase{\leftmark}}
\fancyhead[LO]{\normalfont\small\rmfamily\nouppercase{\rightmark}}
\fancyhead[LE,RO]{\thepage}
\fancyfoot[LE,LO]{Code2PDF  by \href{http://ilz.me}{LiuZ}}
\fancyfoot[RE,RO]{\url{https://github.com/liuzheng712/code2pdf}}

\tableofcontents\newpage
\input{program.tex}
%\chapter{latex.tex}
%\lstinputlisting[language=Tex]{latex.tex}


\end{document}
